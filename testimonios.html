<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Testimonios - ShadowGuard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header class="header">
    <nav class="navbar" aria-label="Navegación principal">
      <img src="images/logo.png" alt="Logo ShadowGuard" class="logo">
      <ul class="nav-links">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="seguridad.html">Seguridad</a></li>
        <li><a href="android.html">Android</a></li>
        <li><a href="testimonios.html">Testimonios</a></li>
        <li><a href="planes.html">Planes</a></li>
        <li><a href="contacto.html">Contacto</a></li>
        <li><a href="soporte.html">Soporte</a></li>
      </ul>
    </nav>
  </header>

  <!-- Formulario flotante, fuera del main -->
  <div id="form-container" class="form-neon" style="display:none;position:fixed;top:80px;left:0;right:0;z-index:10001;max-width:400px;margin:auto;" role="dialog" aria-modal="true" aria-labelledby="form-title">
    <button id="btn-cerrar-form" aria-label="Cerrar formulario" type="button" style="position:absolute;top:10px;right:10px;background:none;border:none;font-size:1.5em;cursor:pointer;">&times;</button>
    <!-- Sección 1: Registro -->
    <form id="form-registro" autocomplete="off" novalidate action="#">
      <h2 id="form-title" style="margin-bottom:10px;">Registro</h2>
      <label for="nombre" class="label-neon">Nombre y Apellido</label>
      <input type="text" id="nombre" name="nombre" required placeholder="Tu nombre completo" class="input-neon" autocomplete="name">
      <label for="correo" class="label-neon">Correo electrónico</label>
      <input type="email" id="correo" name="correo" required placeholder="Tu correo electrónico" class="input-neon" autocomplete="email">
      <label for="usuario" class="label-neon">Usuario</label>
      <input type="text" id="usuario" name="usuario" required placeholder="Usuario" class="input-neon" autocomplete="username">
      <label for="password" class="label-neon">Contraseña</label>
      <input type="password" id="password" name="password" required placeholder="Contraseña" class="input-neon" autocomplete="new-password">
      <button type="submit" class="btn-neon" style="width:100%;margin-top:10px;">Guardar</button>
    </form>
    <!-- Sección 2: Testimonio -->
    <form id="form-testimonio" style="display:none;" novalidate action="#">
      <h2 style="margin-bottom:10px;">Testimonio</h2>
      <label for="mensaje-testimonio" class="label-neon">Testimonio</label>
      <textarea id="mensaje-testimonio" name="mensaje-testimonio" required placeholder="Escribe tu testimonio..." class="input-neon" style="height:80px;"></textarea>
      <button type="submit" class="btn-neon" style="width:100%;margin-top:10px;">Enviar</button>
    </form>
  </div>

  <main style="padding: 40px 20px;">
    <h1 class="titulo-neon">Testimonios</h1>
    <p class="subtitulo">Opiniones reales de usuarios satisfechos con ShadowGuard:</p>

    <section class="testimonios-flex" aria-live="polite">
      <div id="lista-testimonios"></div>
    </section>
    <!-- Botón centrado debajo de las tarjetas -->
    <div style="display:flex;justify-content:center;margin:40px 0 0 0;">
      <button id="btn-agregar-comentario" class="btn-neon" type="button" aria-label="Agregar comentario">Agregar comentario</button>
    </div>
  </main>

  <footer class="footer">
    <p>Derechos reservados © IkushiraDev</p>
  </footer>

  <!-- Script de testimonios unificado -->
  <script src="js/testimonios.js"></script>
  <!-- Navbar activo y mejoras de accesibilidad -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Navbar activo
      const navLinks = document.querySelectorAll('.nav-links a');
      const current = window.location.pathname.split('/').pop().split('?')[0];
      navLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href === current || (current === '' && href.includes('index'))) {
          link.classList.add('active');
          link.setAttribute('aria-current', 'page');
        } else {
          link.classList.remove('active');
          link.removeAttribute('aria-current');
        }
      });

      // Cerrar formulario flotante
      const formContainer = document.getElementById('form-container');
      const btnCerrarForm = document.getElementById('btn-cerrar-form');
      if (btnCerrarForm) {
        btnCerrarForm.addEventListener('click', function() {
          formContainer.style.display = 'none';
          // Devolver el foco al botón de agregar comentario
          document.getElementById('btn-agregar-comentario').focus();
        });
      }
      // Mejor accesibilidad: cerrar con Escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && formContainer.style.display === 'block') {
          formContainer.style.display = 'none';
          document.getElementById('btn-agregar-comentario').focus();
        }
      });

      // Abrir formulario al hacer clic en "Agregar comentario"
      const btnAgregarComentario = document.getElementById('btn-agregar-comentario');
      if (btnAgregarComentario) {
        btnAgregarComentario.addEventListener('click', function() {
          formContainer.style.display = 'block';
          // Enfocar el primer campo del formulario de registro
          document.getElementById('nombre').focus();
        });
      }
    });
  </script>
  <canvas id="cursor-canvas" style="position:fixed;top:0;left:0;pointer-events:none;z-index:10000;"></canvas>
  <script src="js/javascript.js"></script>
</body>
</html>
